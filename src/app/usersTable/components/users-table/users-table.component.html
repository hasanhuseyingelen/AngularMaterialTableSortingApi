<!-- <div *ngIf="dataSource.isLoading$ | async">Loading Data..</div> -->

<div class="centered" *ngIf="dataSource.isLoading$ | async">
    <mat-spinner></mat-spinner>
</div>

<div>
    <table
    mat-table
    matSort
    matSortActive="id"
    matSortDirection="asc"
    matSortDisabledClear
    (matSortChange)="sortUsers($event)"
    [dataSource]="dataSource"
    class="users-table">
        <ng-container matColumnDef="id">
            <th mat-header-cell mat-sort-header *matHeaderCellDef class="users-table-cell">ID</th>
            <td mat-cell *matCellDef="let element" class="users-table-cell"> {{ element.id }}</td>
        </ng-container>

        <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef mat-sort-header class="users-table-cell">Name</th>
            <td mat-cell *matCellDef="let element" class="users-table-cell"> {{ element.name }}</td>
        </ng-container>

        <ng-container matColumnDef="userName">
            <th mat-header-cell *matHeaderCellDef mat-sort-header class="users-table-cell">User Name</th>
            <td mat-cell *matCellDef="let element" class="users-table-cell"> {{ element.username }}</td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns" ></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>

    <mat-paginator #paginator
            class="paginator"
            (page)="handlePageEvent($event)"
            [length]="paginatorOptions.length"
            [pageSize]="totalCount"
            [disabled]="disabledPaginator"
            [showFirstLastButtons]="showFirstLastButtons"
            [pageSizeOptions]="showPageSizeOptions ? pageSizeOptions : []"
            [hidePageSize]="hidePageSize"
            [pageIndex]="paginatorOptions.pageIndex"
            aria-label="Select page">
    </mat-paginator>
    
    <div class="paginator-data">
        <div> Output event: {{(paginatorOptions | json) || 'No events dispatched yet'}} </div>
        <div> getNumberOfPages: {{paginator.getNumberOfPages()}} </div>
  </div>
 
</div>




